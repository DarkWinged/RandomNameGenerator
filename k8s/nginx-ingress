# Create a group of targets called "k8nodes"
upstream k8nodes {
  server node-1:32389;
  server node-2:32389;
}

server {

  listen 2224 default_server;
  listen [::]:2224 default_server;

  location / {
    # map the entire root path to "k8nodes"
    proxy_pass https://k8nodes;  # IMPORTANT, this selects HTTPS protocol
    proxy_set_header Host $http_host;
  }
}
    